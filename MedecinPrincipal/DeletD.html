<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Supprimer un docteur</title>
  <link rel="stylesheet" href="DeletD.css" />
</head>
<body>
  <div class="card">
    <h2>Supprimer un docteur</h2>
    <p id="doctorName"></p>
    <p>Êtes-vous sûr de vouloir supprimer ce docteur ?</p>

    <div class="buttons">
      <button id="cancelBtn">Non</button>
      <button id="confirmBtn">Oui</button>
    </div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const doctor = localStorage.getItem("doctorToDelete");
      const doctorName = document.getElementById("doctorName");
      const cancelBtn = document.getElementById("cancelBtn");
      const confirmBtn = document.getElementById("confirmBtn");

      
      if (doctor) {
        doctorName.textContent = "Docteur sélectionné : " + doctor;
      } else {
        doctorName.textContent = "Aucun docteur sélectionné.";
        confirmBtn.disabled = true;
      }

      
      cancelBtn.addEventListener("click", () => {
        window.location.href = "modify.html";
      });

      
      confirmBtn.addEventListener("click", () => {
        if (!doctor) {
          alert("Aucun docteur sélectionné !");
          return;
        }

        
        let doctors = JSON.parse(localStorage.getItem("doctors")) || [];
        
        
        doctors = doctors.filter(d => d.name !== doctor);
        
    
        localStorage.setItem("doctors", JSON.stringify(doctors));
        
        
        localStorage.removeItem("doctorToDelete");

        alert(doctor + " a été supprimé avec succès !");
        
        window.location.href = "ListofD.html";
      });
    });
  </script>
</body>
</html>

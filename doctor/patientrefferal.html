<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Formulaire de R√©f√©rence M√©dicale</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        background: linear-gradient(135deg, #ebecf0 0%, #a5a4a6 100%);
        min-height: 100vh;
        padding: 20px;
        display: flex;
        justify-content: center;
        align-items: center;
      }

      .container {
        background: white;
        border-radius: 15px;
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        max-width: 800px;
        width: 100%;
        padding: 40px;
      }

      .header {
        text-align: center;
        margin-bottom: 30px;
        padding-bottom: 20px;
        border-bottom: 3px solid #667eea;
      }

      .header h1 {
        color: #333;
        font-size: 28px;
        margin-bottom: 10px;
      }

      .header p {
        color: #666;
        font-size: 14px;
      }

      .form-section {
        margin-bottom: 30px;
      }

      .section-title {
        color: #667eea;
        font-size: 18px;
        font-weight: 600;
        margin-bottom: 15px;
        padding-bottom: 10px;
        border-bottom: 2px solid #f0f0f0;
      }

      .form-group {
        margin-bottom: 20px;
      }

      label {
        display: block;
        color: #333;
        font-weight: 500;
        margin-bottom: 8px;
        font-size: 14px;
      }

      input[type="text"],
      input[type="email"],
      input[type="tel"],
      input[type="date"],
      select,
      textarea {
        width: 100%;
        padding: 12px;
        border: 2px solid #e0e0e0;
        border-radius: 8px;
        font-size: 14px;
        transition: all 0.3s;
        font-family: inherit;
      }

      input:focus,
      select:focus,
      textarea:focus {
        outline: none;
        border-color: #667eea;
        box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
      }

      textarea {
        resize: vertical;
        min-height: 100px;
      }

      .form-row {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 20px;
      }

      .urgency-options {
        display: flex;
        gap: 15px;
        margin-top: 10px;
      }

      .radio-option {
        display: flex;
        align-items: center;
        gap: 8px;
      }

      .radio-option input[type="radio"] {
        width: 18px;
        height: 18px;
        cursor: pointer;
      }

      .radio-option label {
        margin: 0;
        cursor: pointer;
      }

      .btn-container {
        display: flex;
        gap: 15px;
        margin-top: 30px;
      }

      button {
        flex: 1;
        padding: 15px;
        border: none;
        border-radius: 8px;
        font-size: 16px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s;
      }

      .btn-submit {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
      }

      .btn-submit:hover {
        transform: translateY(-2px);
        box-shadow: 0 10px 20px rgba(102, 126, 234, 0.3);
      }

      .btn-reset {
        background: #f0f0f0;
        color: #666;
      }

      .btn-reset:hover {
        background: #e0e0e0;
      }

      .preview {
        display: none;
        background: #f9f9f9;
        border-radius: 10px;
        padding: 30px;
        margin-top: 30px;
      }

      .preview.show {
        display: block;
      }

      .preview h2 {
        color: #667eea;
        margin-bottom: 20px;
        text-align: center;
      }

      .preview-item {
        margin-bottom: 15px;
        padding: 10px;
        background: white;
        border-radius: 5px;
      }

      .preview-label {
        font-weight: 600;
        color: #333;
        margin-bottom: 5px;
      }

      .preview-value {
        color: #666;
      }

      .btn-print {
        width: 100%;
        margin-top: 20px;
        background: #28a745;
        color: white;
      }

      .btn-print:hover {
        background: #218838;
      }

      @media print {
        body {
          background: white;
          padding: 0;
        }
        .container {
          box-shadow: none;
          max-width: 100%;
        }
        .btn-container,
        .btn-print {
          display: none;
        }
      }

      @media (max-width: 768px) {
        .form-row {
          grid-template-columns: 1fr;
        }
        .container {
          padding: 20px;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="header">
        <h1>üìã Formulaire de R√©f√©rence M√©dicale</h1>
        <p>R√©f√©rer un patient √† un autre m√©decin sp√©cialiste</p>
      </div>

      <form id="referralForm">
        <!-- M√©decin R√©f√©rent -->
        <div class="form-section">
          <h3 class="section-title">üë®‚Äç‚öïÔ∏è M√©decin R√©f√©rent</h3>
          <div class="form-row">
            <div class="form-group">
              <label for="doctorName">Nom complet *</label>
              <input type="text" id="doctorName" required />
            </div>
            <div class="form-group">
              <label for="doctorSpecialty">Sp√©cialit√© *</label>
              <input type="text" id="doctorSpecialty" required />
            </div>
          </div>
          <div class="form-row">
            <div class="form-group">
              <label for="doctorPhone">T√©l√©phone *</label>
              <input type="tel" id="doctorPhone" required />
            </div>
            <div class="form-group">
              <label for="doctorEmail">Email</label>
              <input type="email" id="doctorEmail" />
            </div>
          </div>
        </div>

        <!-- Information Patient -->
        <div class="form-section">
          <h3 class="section-title">üë§ Information du Patient</h3>
          <div class="form-row">
            <div class="form-group">
              <label for="patientName">Nom complet *</label>
              <input type="text" id="patientName" required />
            </div>
            <div class="form-group">
              <label for="patientDOB">Date de naissance *</label>
              <input type="date" id="patientDOB" required />
            </div>
          </div>
          <div class="form-row">
            <div class="form-group">
              <label for="patientPhone">T√©l√©phone *</label>
              <input type="tel" id="patientPhone" required />
            </div>
            <div class="form-group">
              <label for="patientEmail">Email</label>
              <input type="email" id="patientEmail" />
            </div>
          </div>
        </div>

        <!-- M√©decin Destinataire -->
        <div class="form-section">
          <h3 class="section-title">üè• M√©decin Destinataire</h3>
          <div class="form-row">
            <div class="form-group">
              <label for="referredDoctorName">Nom du m√©decin *</label>
              <input type="text" id="referredDoctorName" required />
            </div>
            <div class="form-group">
              <label for="referredSpecialty">Sp√©cialit√© *</label>
              <select id="referredSpecialty" required>
                <option value="">S√©lectionner...</option>
                <option value="Cardiologie">Cardiologie</option>
                <option value="Dermatologie">Dermatologie</option>
                <option value="Endocrinologie">Endocrinologie</option>
                <option value="Gastro-ent√©rologie">Gastro-ent√©rologie</option>
                <option value="Neurologie">Neurologie</option>
                <option value="Ophtalmologie">Ophtalmologie</option>
                <option value="Orthop√©die">Orthop√©die</option>
                <option value="P√©diatrie">P√©diatrie</option>
                <option value="Psychiatrie">Psychiatrie</option>
                <option value="Autre">Autre</option>
              </select>
            </div>
          </div>
        </div>

        <!-- D√©tails de la R√©f√©rence -->
        <div class="form-section">
          <h3 class="section-title">üìù D√©tails de la R√©f√©rence</h3>
          <div class="form-group">
            <label for="reason">Raison de la r√©f√©rence *</label>
            <textarea
              id="reason"
              required
              placeholder="D√©crire la raison de la r√©f√©rence..."
            ></textarea>
          </div>
          <div class="form-group">
            <label for="clinicalHistory">Historique clinique pertinent</label>
            <textarea
              id="clinicalHistory"
              placeholder="Ant√©c√©dents m√©dicaux, traitements en cours..."
            ></textarea>
          </div>
          <div class="form-group">
            <label>Urgence *</label>
            <div class="urgency-options">
              <div class="radio-option">
                <input
                  type="radio"
                  id="routine"
                  name="urgency"
                  value="Routine"
                  checked
                />
                <label for="routine">Routine</label>
              </div>
              <div class="radio-option">
                <input type="radio" id="urgent" name="urgency" value="Urgent" />
                <label for="urgent">Urgent</label>
              </div>
              <div class="radio-option">
                <input
                  type="radio"
                  id="emergency"
                  name="urgency"
                  value="Urgence"
                />
                <label for="emergency">Urgence</label>
              </div>
            </div>
          </div>
          <div class="form-group">
            <label for="referralDate">Date de r√©f√©rence *</label>
            <input type="date" id="referralDate" required />
          </div>
        </div>

        <div class="btn-container">
          <button type="submit" class="btn-submit">G√©n√©rer la R√©f√©rence</button>
          <button type="reset" class="btn-reset">R√©initialiser</button>
        </div>
      </form>

      <!-- Preview Section -->
      <div class="preview" id="preview">
        <h2>üìÑ Aper√ßu de la R√©f√©rence M√©dicale</h2>
        <div id="previewContent"></div>
        <button class="btn-print" onclick="window.print()">üñ®Ô∏è Imprimer</button>
      </div>
    </div>

    <script>
      const form = document.getElementById("referralForm");
      const preview = document.getElementById("preview");
      const previewContent = document.getElementById("previewContent");

      // Set default date to today
      document.getElementById("referralDate").valueAsDate = new Date();

      form.addEventListener("submit", function (e) {
        e.preventDefault();

        // Get form values
        const formData = {
          doctorName: document.getElementById("doctorName").value,
          doctorSpecialty: document.getElementById("doctorSpecialty").value,
          doctorPhone: document.getElementById("doctorPhone").value,
          doctorEmail: document.getElementById("doctorEmail").value,
          patientName: document.getElementById("patientName").value,
          patientDOB: document.getElementById("patientDOB").value,
          patientPhone: document.getElementById("patientPhone").value,
          patientEmail: document.getElementById("patientEmail").value,
          referredDoctorName:
            document.getElementById("referredDoctorName").value,
          referredSpecialty: document.getElementById("referredSpecialty").value,
          reason: document.getElementById("reason").value,
          clinicalHistory: document.getElementById("clinicalHistory").value,
          urgency: document.querySelector('input[name="urgency"]:checked')
            .value,
          referralDate: document.getElementById("referralDate").value,
        };

        // Generate preview
        let html = `
                <div class="preview-item">
                    <div class="preview-label">Date de r√©f√©rence:</div>
                    <div class="preview-value">${formData.referralDate}</div>
                </div>
                <div class="preview-item">
                    <div class="preview-label">De: Dr. ${
                      formData.doctorName
                    }</div>
                    <div class="preview-value">${formData.doctorSpecialty} | ${
          formData.doctorPhone
        }</div>
                </div>
                <div class="preview-item">
                    <div class="preview-label">√Ä: Dr. ${
                      formData.referredDoctorName
                    }</div>
                    <div class="preview-value">${
                      formData.referredSpecialty
                    }</div>
                </div>
                <div class="preview-item">
                    <div class="preview-label">Patient:</div>
                    <div class="preview-value">${
                      formData.patientName
                    } | N√©(e) le: ${formData.patientDOB} | ${
          formData.patientPhone
        }</div>
                </div>
                <div class="preview-item">
                    <div class="preview-label">Niveau d'urgence:</div>
                    <div class="preview-value" style="font-weight: bold; color: ${
                      formData.urgency === "Urgence"
                        ? "#dc3545"
                        : formData.urgency === "Urgent"
                        ? "#ff9800"
                        : "#28a745"
                    }">${formData.urgency}</div>
                </div>
                <div class="preview-item">
                    <div class="preview-label">Raison de la r√©f√©rence:</div>
                    <div class="preview-value">${formData.reason}</div>
                </div>
            `;

        if (formData.clinicalHistory) {
          html += `
                    <div class="preview-item">
                        <div class="preview-label">Historique clinique:</div>
                        <div class="preview-value">${formData.clinicalHistory}</div>
                    </div>
                `;
        }

        previewContent.innerHTML = html;
        preview.classList.add("show");
        preview.scrollIntoView({ behavior: "smooth" });
      });

      form.addEventListener("reset", function () {
        preview.classList.remove("show");
        document.getElementById("referralDate").valueAsDate = new Date();
      });
    </script>
  </body>
</html>
